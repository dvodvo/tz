<%= form_with(model: individual) do |form| %>
  <% if individual.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(individual.errors.count, "error") %> prohibited this individual from being saved:</h2>

      <ul>
        <% individual.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :name, style: "display: block" %>
    <%= form.text_field :name %>
  </div>

  <div>
    <%= form.label :tz, style: "display: block" %>
    <%= form.text_field :tz %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>

<%= javascript_tag do %>
  var item1 = new autoComplete({
      selector: '#individual_tz',
      minChars: 2,
      source: function(term, suggest){
          term = term.toLowerCase();
          var choices = <%= raw @timezone_names %>;
          var suggestions = [];
          for (i=0;i<choices.length;i++)
              if (~choices[i].toLowerCase().indexOf(term)) suggestions.push(choices[i]);
          suggest(suggestions);
      }
  });
<% end %>